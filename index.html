<!DOCTYPE html>
<head>
<title>MineSweeper</title>
<style>
body {
	background-color: lightblue;
}
.grid-container {
	display: grid;
	grid-template-columns: auto auto auto auto auto auto auto auto auto auto;
	background-color: yellow;
}
.grid-square {
	background-color: gray;
	text-align: center;
	font size: 40px;
	border: 1px solid black;
	width:50px;
	height:50px;
}
.flipped {
	background-color: green;
}
.flagged {
	background-color: yellow;
}
</style>
<script>
	var i;
	var bombNum;
	var coor;
	var startTime;
	var endTime;
	function startTmr() {
		startTime = new Date().getTime();
	}
</script>
</head>
<body>
<button onclick = "startTmr()">Start</button>
<p id = "WoL"></p>
<div class = "grid-container">
<div class = "grid-square" onmousedown = "check(1,8,event)" id = "18">?</div>
<div class = "grid-square" onmousedown = "check(2,8,event)" id = "28">?</div>
<div class = "grid-square" onmousedown = "check(3,8,event)" id = "38">?</div>
<div class = "grid-square" onmousedown = "check(4,8,event)" id = "48">?</div>
<div class = "grid-square" onmousedown = "check(5,8,event)" id = "58">?</div>
<div class = "grid-square" onmousedown = "check(6,8,event)" id = "68">?</div>
<div class = "grid-square" onmousedown = "check(7,8,event)" id = "78">?</div>
<div class = "grid-square" onmousedown = "check(8,8,event)" id = "88">?</div>
<div class = "grid-square" onmousedown = "check(9,8,event)" id = "98">?</div>
<div class = "grid-square" onmousedown = "check(10,8,event)" id = "108">?</div>
<div class = "grid-square" onmousedown = "check(1,7,event)" id = "17">?</div>
<div class = "grid-square" onmousedown = "check(2,7,event)" id = "27">?</div>
<div class = "grid-square" onmousedown = "check(3,7,event)" id = "37">?</div>
<div class = "grid-square" onmousedown = "check(4,7,event)" id = "47">?</div>
<div class = "grid-square" onmousedown = "check(5,7,event)" id = "57">?</div>
<div class = "grid-square" onmousedown = "check(6,7,event)" id = "67">?</div>
<div class = "grid-square" onmousedown = "check(7,7,event)" id = "77">?</div>
<div class = "grid-square" onmousedown = "check(8,7,event)" id = "87">?</div>
<div class = "grid-square" onmousedown = "check(9,7,event)" id = "97">?</div>
<div class = "grid-square" onmousedown = "check(10,7,event)" id = "107">?</div>
<div class = "grid-square" onmousedown = "check(1,6,event)" id = "16">?</div>
<div class = "grid-square" onmousedown = "check(2,6,event)" id = "26">?</div>
<div class = "grid-square" onmousedown = "check(3,6,event)" id = "36">?</div>
<div class = "grid-square" onmousedown = "check(4,6,event)" id = "46">?</div>
<div class = "grid-square" onmousedown = "check(5,6,event)" id = "56">?</div>
<div class = "grid-square" onmousedown = "check(6,6,event)" id = "66">?</div>
<div class = "grid-square" onmousedown = "check(7,6,event)" id = "76">?</div>
<div class = "grid-square" onmousedown = "check(8,6,event)" id = "86">?</div>
<div class = "grid-square" onmousedown = "check(9,6,event)" id = "96">?</div>
<div class = "grid-square" onmousedown = "check(10,6,event)" id = "106">?</div>
<div class = "grid-square" onmousedown = "check(1,5,event)" id = "15">?</div>
<div class = "grid-square" onmousedown = "check(2,5,event)" id = "25">?</div>
<div class = "grid-square" onmousedown = "check(3,5,event)" id = "35">?</div>
<div class = "grid-square" onmousedown = "check(4,5,event)" id = "45">?</div>
<div class = "grid-square" onmousedown = "check(5,5,event)" id = "55">?</div>
<div class = "grid-square" onmousedown = "check(6,5,event)" id = "65">?</div>
<div class = "grid-square" onmousedown = "check(7,5,event)" id = "75">?</div>
<div class = "grid-square" onmousedown = "check(8,5,event)" id = "85">?</div>
<div class = "grid-square" onmousedown = "check(9,5,event)" id = "95">?</div>
<div class = "grid-square" onmousedown = "check(10,5,event)" id = "105">?</div>
<div class = "grid-square" onmousedown = "check(1,4,event)" id = "14">?</div>
<div class = "grid-square" onmousedown = "check(2,4,event)" id = "24">?</div>
<div class = "grid-square" onmousedown = "check(3,4,event)" id = "34">?</div>
<div class = "grid-square" onmousedown = "check(4,4,event)" id = "44">?</div>
<div class = "grid-square" onmousedown = "check(5,4,event)" id = "54">?</div>
<div class = "grid-square" onmousedown = "check(6,4,event)" id = "64">?</div>
<div class = "grid-square" onmousedown = "check(7,4,event)" id = "74">?</div>
<div class = "grid-square" onmousedown = "check(8,4,event)" id = "84">?</div>
<div class = "grid-square" onmousedown = "check(9,4,event)" id = "94">?</div>
<div class = "grid-square" onmousedown = "check(10,4,event)" id = "104">?</div>
<div class = "grid-square" onmousedown = "check(1,3,event)" id = "13">?</div>
<div class = "grid-square" onmousedown = "check(2,3,event)" id = "23">?</div>
<div class = "grid-square" onmousedown = "check(3,3,event)" id = "33">?</div>
<div class = "grid-square" onmousedown = "check(4,3,event)" id = "43">?</div>
<div class = "grid-square" onmousedown = "check(5,3,event)" id = "53">?</div>
<div class = "grid-square" onmousedown = "check(6,3,event)" id = "63">?</div>
<div class = "grid-square" onmousedown = "check(7,3,event)" id = "73">?</div>
<div class = "grid-square" onmousedown = "check(8,3,event)" id = "83">?</div>
<div class = "grid-square" onmousedown = "check(9,3,event)" id = "93">?</div>
<div class = "grid-square" onmousedown = "check(10,3,event)" id = "103">?</div>
<div class = "grid-square" onmousedown = "check(1,2,event)" id = "12">?</div>
<div class = "grid-square" onmousedown = "check(2,2,event)" id = "22">?</div>
<div class = "grid-square" onmousedown = "check(3,2,event)" id = "32">?</div>
<div class = "grid-square" onmousedown = "check(4,2,event)" id = "42">?</div>
<div class = "grid-square" onmousedown = "check(5,2,event)" id = "52">?</div>
<div class = "grid-square" onmousedown = "check(6,2,event)" id = "62">?</div>
<div class = "grid-square" onmousedown = "check(7,2,event)" id = "72">?</div>
<div class = "grid-square" onmousedown = "check(8,2,event)" id = "82">?</div>
<div class = "grid-square" onmousedown = "check(9,2,event)" id = "92">?</div>
<div class = "grid-square" onmousedown = "check(10,2,event)" id = "102">?</div>
<div class = "grid-square" onmousedown = "check(1,1,event)" id = "11">?</div>
<div class = "grid-square" onmousedown = "check(2,1,event)" id = "21">?</div>
<div class = "grid-square" onmousedown = "check(3,1,event)" id = "31">?</div>
<div class = "grid-square" onmousedown = "check(4,1,event)" id = "41">?</div>
<div class = "grid-square" onmousedown = "check(5,1,event)" id = "51">?</div>
<div class = "grid-square" onmousedown = "check(6,1,event)" id = "61">?</div>
<div class = "grid-square" onmousedown = "check(7,1,event)" id = "71">?</div>
<div class = "grid-square" onmousedown = "check(8,1,event)" id = "81">?</div>
<div class = "grid-square" onmousedown = "check(9,1,event)" id = "91">?</div>
<div class = "grid-square" onmousedown = "check(10,1,event)" id = "101">?</div>
<span id = "00"></span>
<span id = "01"></span>
<span id = "02"></span>
<span id = "03"></span>
<span id = "04"></span>
<span id = "05"></span>
<span id = "06"></span>
<span id = "07"></span>
<span id = "08"></span>
<span id = "09"></span>
<span id = "110"></span>
<span id = "111"></span>
<span id = "112"></span>
<span id = "113"></span>
<span id = "114"></span>
<span id = "115"></span>
<span id = "116"></span>
<span id = "117"></span>
<span id = "118"></span>
<span id = "10"></span>
<span id = "20"></span>
<span id = "30"></span>
<span id = "40"></span>
<span id = "50"></span>
<span id = "60"></span>
<span id = "70"></span>
<span id = "80"></span>
<span id = "90"></span>
<span id = "100"></span>
<span id = "09"></span>
<span id = "19"></span>
<span id = "29"></span>
<span id = "39"></span>
<span id = "49"></span>
<span id = "59"></span>
<span id = "69"></span>
<span id = "79"></span>
<span id = "89"></span>
<span id = "99"></span>
<span id = "109"></span>
<span id = "119"></span>
</div>
<script>
	var bombsAround;
	var bombNum;
	function check(x,y,event) {
		if (event.button == 0) {
			bombsAround = 0;
			if (document.getElementById(String(x-1) + String(y)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x-1) + String(y-1)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x-1) + String(y+1)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x) + String(y)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x) + String(y-1)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x) + String(y+1)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x+1) + String(y)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x+1) + String(y+1)).classList.contains("bomb")) {
				bombsAround++;
			}
			if (document.getElementById(String(x+1) + String(y-1)).classList.contains("bomb")) {
				bombsAround++;
			}
			coor = x.toString() + y.toString();
			if (document.getElementById(coor).classList.contains("bomb")) {
				document.getElementById('WoL').innerHTML = "You lose.";
			} else {
				document.getElementById(coor).classList.add("flipped");
				document.getElementById(coor).innerHTML = bombsAround;
				if (document.querySelectorAll('body .flipped').length == 70) {
					endTime = new Date().getTime();
					timeTaken = endTime - startTime;
					msec = (timeTaken % 1000);
					min = Math.floor(timeTaken/60000);
					sec = ((timeTaken - timeTaken % 1000)/1000) - min * 60;
					document.getElementById('WoL').innerHTML = "You win! Your time: " + min + ":" + sec + "." + msec;
				}
			}
		} else {
			coor = x.toString() + y.toString();
			document.getElementById(coor).classList.toggle("flagged");
		}
	}
	function createBomb() {
		bombNum = String((Math.floor(Math.random() * 10) + 1)) +  String((Math.floor(Math.random() * 8) + 1));
		if (!document.getElementById(bombNum).classList.contains("bomb")) {
			document.getElementById(bombNum).classList.add("bomb");
		} else {
			createBomb();
		}
	}
    for (let i = 0; i < 10; i++) {
        createBomb();
    }
</script>
	<button onClick="window.location.reload();">Restart</button>
</body>
</html>